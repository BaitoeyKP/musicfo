import { Link } from "react-router-dom";
import React, { useEffect, useState } from 'react';

function Navbar() {
    const storedTheme = localStorage.getItem("theme");
    const [theme, setTheme] = useState<string>(storedTheme || "light");

    const handleToggle = (e: React.ChangeEvent<HTMLInputElement>) => {
        setTheme(e.target.checked ? "dark" : "light");
    };

    useEffect(() => {
        localStorage.setItem("theme", theme);
        const htmlElement = document.querySelector("html");
        if (htmlElement) {
            htmlElement.setAttribute("data-theme", theme);
        }
    }, [theme]);

    return (
        <div className="navbar bg-base-100 px-12 hd:px-24 border-b border-info">
            <div className="navbar-start">
                <label className="swap hd:hidden">
                    <input
                        type="checkbox"
                        className="theme-controller"
                        checked={theme === "dark"}
                        onChange={handleToggle}
                    />
                    {theme === "dark" ?
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" fill="none" className="w-12">
                            <path d="M23.9907 42C21.4702 41.9849 18.9807 41.4435 16.6816 40.4105C14.3825 39.3775 12.3245 37.8757 10.6394 36.0013C8.95429 34.1268 7.67929 31.9211 6.89605 29.5254C6.11281 27.1297 5.83859 24.5967 6.09095 22.0889C6.53938 18.1728 8.24838 14.5086 10.9604 11.6483C13.6725 8.78796 17.2407 6.88654 21.1274 6.23053C23.6383 5.84096 26.2012 5.94592 28.6718 6.53951C29.3224 6.70648 29.9162 7.04513 30.3911 7.52005C30.866 7.99498 31.2047 8.58875 31.3717 9.23931C31.5399 9.88397 31.5311 10.5621 31.3464 11.2022C31.1616 11.8423 30.8076 12.4207 30.3217 12.8766C23.4837 19.1281 24.0747 28.8429 31.5321 34.493C32.0589 34.9069 32.4652 35.4543 32.7088 36.0783C32.9524 36.7024 33.0243 37.3803 32.9171 38.0416C32.81 38.7029 32.5276 39.3234 32.0994 39.8385C31.6712 40.3537 31.1128 40.7448 30.4822 40.9711C28.3865 41.6557 26.1954 42.003 23.9907 42ZM24.1017 9.00233C23.2605 9.00036 22.4206 9.06405 21.5893 9.19282C18.3556 9.74146 15.3872 11.3248 13.1304 13.705C10.8736 16.0852 9.45021 19.1335 9.07424 22.3919C8.84036 24.4918 9.05604 26.6174 9.70695 28.6276C10.3579 30.6377 11.4291 32.4863 12.8495 34.0505C14.9279 36.2717 17.6066 37.8416 20.5602 38.5695C23.5138 39.2975 26.6152 39.1522 29.4878 38.1513C29.6112 38.1046 29.72 38.0262 29.8034 37.924C29.8868 37.8218 29.9418 37.6994 29.9628 37.5692C29.9838 37.439 29.9701 37.3055 29.923 37.1823C29.8759 37.0591 29.7972 36.9504 29.6948 36.8673C20.8019 30.1508 20.103 18.1322 28.2744 10.6882C28.3677 10.6011 28.4349 10.4897 28.4685 10.3665C28.5022 10.2433 28.5009 10.1132 28.4649 9.99076C28.4338 9.86019 28.3676 9.7406 28.2735 9.64491C28.1794 9.54921 28.0609 9.48105 27.9309 9.4478C26.6771 9.1457 25.3914 8.99613 24.1017 9.00233ZM36.7263 24.0013C36.3919 24.0013 36.0671 23.8895 35.8035 23.6838C35.5399 23.4781 35.3526 23.1902 35.2714 22.8658L34.7344 20.721L32.5866 20.1435C32.2635 20.0566 31.9789 19.8641 31.7778 19.5968C31.5767 19.3295 31.4708 19.0026 31.4768 18.6681C31.4828 18.3337 31.6005 18.0108 31.8111 17.7509C32.0217 17.491 32.3131 17.309 32.6391 17.2337L34.7389 16.7463L35.2654 14.6374C35.3467 14.3131 35.534 14.0253 35.7976 13.8196C36.0612 13.6139 36.3859 13.5022 36.7203 13.5022C37.0546 13.5022 37.3794 13.6139 37.643 13.8196C37.9066 14.0253 38.0939 14.3131 38.1752 14.6374L38.7076 16.7643L40.8345 17.2967C41.1588 17.378 41.4467 17.5653 41.6523 17.8289C41.858 18.0925 41.9697 18.4173 41.9697 18.7516C41.9697 19.086 41.858 19.4107 41.6523 19.6743C41.4467 19.9379 41.1588 20.1253 40.8345 20.2065L38.7076 20.739L38.1752 22.8658C38.0942 23.1892 37.9078 23.4764 37.6454 23.682C37.383 23.8876 37.0596 23.9999 36.7263 24.0013ZM29.9768 27.001C29.9768 27.3988 30.1348 27.7803 30.4161 28.0616C30.6973 28.3429 31.0788 28.5009 31.4766 28.5009C31.8744 28.5009 32.2559 28.3429 32.5372 28.0616C32.8185 27.7803 32.9765 27.3988 32.9765 27.001C32.9765 26.6033 32.8185 26.2218 32.5372 25.9405C32.2559 25.6592 31.8744 25.5012 31.4766 25.5012C31.0788 25.5012 30.6973 25.6592 30.4161 25.9405C30.1348 26.2218 29.9768 26.6033 29.9768 27.001ZM38.9761 33.0006C38.9761 33.3984 39.1341 33.7799 39.4154 34.0612C39.6967 34.3425 40.0782 34.5005 40.476 34.5005C40.8738 34.5005 41.2553 34.3425 41.5366 34.0612C41.8179 33.7799 41.9759 33.3984 41.9759 33.0006C41.9759 32.6028 41.8179 32.2213 41.5366 31.94C41.2553 31.6588 40.8738 31.5007 40.476 31.5007C40.0782 31.5007 39.6967 31.6588 39.4154 31.94C39.1341 32.2213 38.9761 32.6028 38.9761 33.0006Z" fill="#D8D8D8" />
                        </svg>
                        :
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" fill="none" className="w-12">
                            <path d="M24 31.5C19.86 31.5 16.5 28.14 16.5 24C16.5 19.86 19.86 16.5 24 16.5C28.14 16.5 31.5 19.86 31.5 24C31.5 28.14 28.14 31.5 24 31.5ZM24 19.5C21.525 19.5 19.5 21.525 19.5 24C19.5 26.475 21.525 28.5 24 28.5C26.475 28.5 28.5 26.475 28.5 24C28.5 21.525 26.475 19.5 24 19.5ZM25.5 12V7.5C25.5 6.675 24.825 6 24 6C23.175 6 22.5 6.675 22.5 7.5V12C22.5 12.825 23.175 13.5 24 13.5C24.825 13.5 25.5 12.825 25.5 12ZM25.5 40.5V36C25.5 35.175 24.825 34.5 24 34.5C23.175 34.5 22.5 35.175 22.5 36V40.5C22.5 41.325 23.175 42 24 42C24.825 42 25.5 41.325 25.5 40.5ZM13.5 24C13.5 23.175 12.825 22.5 12 22.5H7.5C6.675 22.5 6 23.175 6 24C6 24.825 6.675 25.5 7.5 25.5H12C12.825 25.5 13.5 24.825 13.5 24ZM42 24C42 23.175 41.325 22.5 40.5 22.5H36C35.175 22.5 34.5 23.175 34.5 24C34.5 24.825 35.175 25.5 36 25.5H40.5C41.325 25.5 42 24.825 42 24ZM16.065 16.065C16.65 15.48 16.65 14.535 16.065 13.95L13.065 10.95C12.48 10.365 11.535 10.365 10.95 10.95C10.365 11.535 10.365 12.48 10.95 13.065L13.95 16.065C14.25 16.365 14.625 16.5 15.015 16.5C15.405 16.5 15.78 16.35 16.08 16.065H16.065ZM37.065 37.065C37.65 36.48 37.65 35.535 37.065 34.95L34.065 31.95C33.48 31.365 32.535 31.365 31.95 31.95C31.365 32.535 31.365 33.48 31.95 34.065L34.95 37.065C35.25 37.365 35.625 37.5 36.015 37.5C36.405 37.5 36.78 37.35 37.08 37.065H37.065ZM13.065 37.065L16.065 34.065C16.65 33.48 16.65 32.535 16.065 31.95C15.48 31.365 14.535 31.365 13.95 31.95L10.95 34.95C10.365 35.535 10.365 36.48 10.95 37.065C11.25 37.365 11.625 37.5 12.015 37.5C12.405 37.5 12.78 37.35 13.08 37.065H13.065ZM34.065 16.065L37.065 13.065C37.65 12.48 37.65 11.535 37.065 10.95C36.48 10.365 35.535 10.365 34.95 10.95L31.95 13.95C31.365 14.535 31.365 15.48 31.95 16.065C32.25 16.365 32.625 16.5 33.015 16.5C33.405 16.5 33.78 16.35 34.08 16.065H34.065Z" fill="#101010" />
                        </svg>}
                </label>
            </div>
            <div className="navbar-center">
                <Link to="/" className="text-8xl font-bold py-4">Musicfo</Link>
            </div>
            <div className="navbar-end gap-x-9">
                <Link to="/favorite">
                    {theme === "light" ?
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" fill="none" className="w-12">
                            <g clip-path="url(#clip0_11_17)">
                                <path d="M35.0097 3C32.7576 3.03503 30.5546 3.66371 28.6232 4.82254C26.6918 5.98138 25.1004 7.62934 24.0097 9.6C22.919 7.62934 21.3276 5.98138 19.3962 4.82254C17.4648 3.66371 15.2618 3.03503 13.0097 3C9.41957 3.15598 6.0371 4.72651 3.60125 7.36847C1.1654 10.0104 -0.125819 13.5091 0.00968221 17.1C0.00968221 26.194 9.58168 36.126 17.6097 42.86C19.4021 44.3663 21.6684 45.1921 24.0097 45.1921C26.351 45.1921 28.6172 44.3663 30.4097 42.86C38.4377 36.126 48.0097 26.194 48.0097 17.1C48.1452 13.5091 46.854 10.0104 44.4181 7.36847C41.9823 4.72651 38.5998 3.15598 35.0097 3Z" fill="#101010" />
                            </g>
                            <defs>
                                <clipPath id="clip0_11_17">
                                    <rect width="48" height="48" fill="white" />
                                </clipPath>
                            </defs>
                        </svg>
                        :
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" fill="none" className="w-12">
                            <g clip-path="url(#clip0_29_1684)">
                                <path d="M35.0097 3C32.7576 3.03503 30.5546 3.66371 28.6232 4.82254C26.6918 5.98138 25.1004 7.62934 24.0097 9.6C22.919 7.62934 21.3276 5.98138 19.3962 4.82254C17.4648 3.66371 15.2618 3.03503 13.0097 3C9.41957 3.15598 6.0371 4.72651 3.60125 7.36847C1.1654 10.0104 -0.125819 13.5091 0.00968221 17.1C0.00968221 26.194 9.58168 36.126 17.6097 42.86C19.4021 44.3663 21.6684 45.1921 24.0097 45.1921C26.351 45.1921 28.6172 44.3663 30.4097 42.86C38.4377 36.126 48.0097 26.194 48.0097 17.1C48.1452 13.5091 46.854 10.0104 44.4181 7.36847C41.9823 4.72651 38.5998 3.15598 35.0097 3Z" fill="#D8D8D8" />
                            </g>
                            <defs>
                                <clipPath id="clip0_29_1684">
                                    <rect width="48" height="48" fill="white" />
                                </clipPath>
                            </defs>
                        </svg>}
                </Link>
                <label className="swap hidden hd:flex">
                    <input
                        type="checkbox"
                        className="theme-controller"
                        checked={theme === "dark"}
                        onChange={handleToggle}
                    />
                    {theme === "dark" ?
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" fill="none" className="w-12">
                            <path d="M23.9907 42C21.4702 41.9849 18.9807 41.4435 16.6816 40.4105C14.3825 39.3775 12.3245 37.8757 10.6394 36.0013C8.95429 34.1268 7.67929 31.9211 6.89605 29.5254C6.11281 27.1297 5.83859 24.5967 6.09095 22.0889C6.53938 18.1728 8.24838 14.5086 10.9604 11.6483C13.6725 8.78796 17.2407 6.88654 21.1274 6.23053C23.6383 5.84096 26.2012 5.94592 28.6718 6.53951C29.3224 6.70648 29.9162 7.04513 30.3911 7.52005C30.866 7.99498 31.2047 8.58875 31.3717 9.23931C31.5399 9.88397 31.5311 10.5621 31.3464 11.2022C31.1616 11.8423 30.8076 12.4207 30.3217 12.8766C23.4837 19.1281 24.0747 28.8429 31.5321 34.493C32.0589 34.9069 32.4652 35.4543 32.7088 36.0783C32.9524 36.7024 33.0243 37.3803 32.9171 38.0416C32.81 38.7029 32.5276 39.3234 32.0994 39.8385C31.6712 40.3537 31.1128 40.7448 30.4822 40.9711C28.3865 41.6557 26.1954 42.003 23.9907 42ZM24.1017 9.00233C23.2605 9.00036 22.4206 9.06405 21.5893 9.19282C18.3556 9.74146 15.3872 11.3248 13.1304 13.705C10.8736 16.0852 9.45021 19.1335 9.07424 22.3919C8.84036 24.4918 9.05604 26.6174 9.70695 28.6276C10.3579 30.6377 11.4291 32.4863 12.8495 34.0505C14.9279 36.2717 17.6066 37.8416 20.5602 38.5695C23.5138 39.2975 26.6152 39.1522 29.4878 38.1513C29.6112 38.1046 29.72 38.0262 29.8034 37.924C29.8868 37.8218 29.9418 37.6994 29.9628 37.5692C29.9838 37.439 29.9701 37.3055 29.923 37.1823C29.8759 37.0591 29.7972 36.9504 29.6948 36.8673C20.8019 30.1508 20.103 18.1322 28.2744 10.6882C28.3677 10.6011 28.4349 10.4897 28.4685 10.3665C28.5022 10.2433 28.5009 10.1132 28.4649 9.99076C28.4338 9.86019 28.3676 9.7406 28.2735 9.64491C28.1794 9.54921 28.0609 9.48105 27.9309 9.4478C26.6771 9.1457 25.3914 8.99613 24.1017 9.00233ZM36.7263 24.0013C36.3919 24.0013 36.0671 23.8895 35.8035 23.6838C35.5399 23.4781 35.3526 23.1902 35.2714 22.8658L34.7344 20.721L32.5866 20.1435C32.2635 20.0566 31.9789 19.8641 31.7778 19.5968C31.5767 19.3295 31.4708 19.0026 31.4768 18.6681C31.4828 18.3337 31.6005 18.0108 31.8111 17.7509C32.0217 17.491 32.3131 17.309 32.6391 17.2337L34.7389 16.7463L35.2654 14.6374C35.3467 14.3131 35.534 14.0253 35.7976 13.8196C36.0612 13.6139 36.3859 13.5022 36.7203 13.5022C37.0546 13.5022 37.3794 13.6139 37.643 13.8196C37.9066 14.0253 38.0939 14.3131 38.1752 14.6374L38.7076 16.7643L40.8345 17.2967C41.1588 17.378 41.4467 17.5653 41.6523 17.8289C41.858 18.0925 41.9697 18.4173 41.9697 18.7516C41.9697 19.086 41.858 19.4107 41.6523 19.6743C41.4467 19.9379 41.1588 20.1253 40.8345 20.2065L38.7076 20.739L38.1752 22.8658C38.0942 23.1892 37.9078 23.4764 37.6454 23.682C37.383 23.8876 37.0596 23.9999 36.7263 24.0013ZM29.9768 27.001C29.9768 27.3988 30.1348 27.7803 30.4161 28.0616C30.6973 28.3429 31.0788 28.5009 31.4766 28.5009C31.8744 28.5009 32.2559 28.3429 32.5372 28.0616C32.8185 27.7803 32.9765 27.3988 32.9765 27.001C32.9765 26.6033 32.8185 26.2218 32.5372 25.9405C32.2559 25.6592 31.8744 25.5012 31.4766 25.5012C31.0788 25.5012 30.6973 25.6592 30.4161 25.9405C30.1348 26.2218 29.9768 26.6033 29.9768 27.001ZM38.9761 33.0006C38.9761 33.3984 39.1341 33.7799 39.4154 34.0612C39.6967 34.3425 40.0782 34.5005 40.476 34.5005C40.8738 34.5005 41.2553 34.3425 41.5366 34.0612C41.8179 33.7799 41.9759 33.3984 41.9759 33.0006C41.9759 32.6028 41.8179 32.2213 41.5366 31.94C41.2553 31.6588 40.8738 31.5007 40.476 31.5007C40.0782 31.5007 39.6967 31.6588 39.4154 31.94C39.1341 32.2213 38.9761 32.6028 38.9761 33.0006Z" fill="#D8D8D8" />
                        </svg>
                        :
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" fill="none" className="w-12">
                            <path d="M24 31.5C19.86 31.5 16.5 28.14 16.5 24C16.5 19.86 19.86 16.5 24 16.5C28.14 16.5 31.5 19.86 31.5 24C31.5 28.14 28.14 31.5 24 31.5ZM24 19.5C21.525 19.5 19.5 21.525 19.5 24C19.5 26.475 21.525 28.5 24 28.5C26.475 28.5 28.5 26.475 28.5 24C28.5 21.525 26.475 19.5 24 19.5ZM25.5 12V7.5C25.5 6.675 24.825 6 24 6C23.175 6 22.5 6.675 22.5 7.5V12C22.5 12.825 23.175 13.5 24 13.5C24.825 13.5 25.5 12.825 25.5 12ZM25.5 40.5V36C25.5 35.175 24.825 34.5 24 34.5C23.175 34.5 22.5 35.175 22.5 36V40.5C22.5 41.325 23.175 42 24 42C24.825 42 25.5 41.325 25.5 40.5ZM13.5 24C13.5 23.175 12.825 22.5 12 22.5H7.5C6.675 22.5 6 23.175 6 24C6 24.825 6.675 25.5 7.5 25.5H12C12.825 25.5 13.5 24.825 13.5 24ZM42 24C42 23.175 41.325 22.5 40.5 22.5H36C35.175 22.5 34.5 23.175 34.5 24C34.5 24.825 35.175 25.5 36 25.5H40.5C41.325 25.5 42 24.825 42 24ZM16.065 16.065C16.65 15.48 16.65 14.535 16.065 13.95L13.065 10.95C12.48 10.365 11.535 10.365 10.95 10.95C10.365 11.535 10.365 12.48 10.95 13.065L13.95 16.065C14.25 16.365 14.625 16.5 15.015 16.5C15.405 16.5 15.78 16.35 16.08 16.065H16.065ZM37.065 37.065C37.65 36.48 37.65 35.535 37.065 34.95L34.065 31.95C33.48 31.365 32.535 31.365 31.95 31.95C31.365 32.535 31.365 33.48 31.95 34.065L34.95 37.065C35.25 37.365 35.625 37.5 36.015 37.5C36.405 37.5 36.78 37.35 37.08 37.065H37.065ZM13.065 37.065L16.065 34.065C16.65 33.48 16.65 32.535 16.065 31.95C15.48 31.365 14.535 31.365 13.95 31.95L10.95 34.95C10.365 35.535 10.365 36.48 10.95 37.065C11.25 37.365 11.625 37.5 12.015 37.5C12.405 37.5 12.78 37.35 13.08 37.065H13.065ZM34.065 16.065L37.065 13.065C37.65 12.48 37.65 11.535 37.065 10.95C36.48 10.365 35.535 10.365 34.95 10.95L31.95 13.95C31.365 14.535 31.365 15.48 31.95 16.065C32.25 16.365 32.625 16.5 33.015 16.5C33.405 16.5 33.78 16.35 34.08 16.065H34.065Z" fill="#101010" />
                        </svg>}
                </label>
            </div >
        </div >
    )
}

export default Navbar;